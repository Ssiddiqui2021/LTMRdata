
<!-- README.md is generated from README.Rmd. Please edit that file -->

# LTMRdata <img src='man/figures/logo.jpg' align="right" height="139" />

<!-- badges: start -->

[![R build
status](https://github.com/sbashevkin/LTMRdata/workflows/R-CMD-check/badge.svg)](https://github.com/sbashevkin/LTMRdata/actions)
[![Codecov test
coverage](https://codecov.io/gh/sbashevkin/LTMRdata/branch/master/graph/badge.svg)](https://codecov.io/gh/sbashevkin/LTMRdata?branch=master)
[![DOI](https://zenodo.org/badge/250588599.svg)](https://zenodo.org/badge/latestdoi/250588599)
<!-- badges: end -->

Integration of the Fall Midwater Trawl, Bay Study, and Suisun Marsh Fish
Study data for use in the IEP long-term monitoring survey review.

## Installation

You can install `LTMRdata` from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("sbashevkin/LTMRdata")
```

# Usage

``` r
require(LTMRdata)
#> Loading required package: LTMRdata
```

## To access the individual source datasets

Suisun Marsh Fish Study

``` r
str(Suisun)
#> Classes 'tbl_df', 'tbl' and 'data.frame':    180320 obs. of  21 variables:
#>  $ Source        : chr  "Suisun" "Suisun" "Suisun" "Suisun" ...
#>  $ Station       : chr  "MZ2" "MZ2" "MZ2" "MZ2" ...
#>  $ Latitude      : num  38.1 38.1 38.1 38.1 38.1 ...
#>  $ Longitude     : num  -122 -122 -122 -122 -122 ...
#>  $ Date          : POSIXct, format: "2013-12-04" "2013-12-04" ...
#>  $ Datetime      : POSIXct, format: "2013-12-04 13:03:00" "2013-12-04 13:03:00" ...
#>  $ Depth         : num  6.4 6.4 6.4 6.4 6.4 6.4 6.4 6.4 6.4 6.4 ...
#>  $ SampleID      : chr  "Suisun 1" "Suisun 1" "Suisun 1" "Suisun 1" ...
#>  $ Method        : chr  "Otter trawl" "Otter trawl" "Otter trawl" "Otter trawl" ...
#>  $ Tide          : chr  "Flood" "Flood" "Flood" "Flood" ...
#>  $ Sal_surf      : num  4.83 4.83 4.83 4.83 4.83 ...
#>  $ Temp_surf     : num  11.8 11.8 11.8 11.8 11.8 11.8 11.8 11.8 11.8 11.8 ...
#>  $ Secchi        : num  49 49 49 49 49 49 49 49 49 49 ...
#>  $ Tow_duration  : num  10 10 10 10 10 10 10 10 10 10 ...
#>  $ Tow_area      : num  2007 2007 2007 2007 2007 ...
#>  $ Taxa          : chr  "Morone saxatilis" "Morone saxatilis" "Hysterocarpus traskii" "Morone saxatilis" ...
#>  $ Length        : num  126 135 130 85 90 100 95 78 127 113 ...
#>  $ Count         : num  1 1 1 1 1 1 2 1 1 1 ...
#>  $ Length_NA_flag: chr  NA NA NA NA ...
#>  $ Notes_catch   : chr  NA NA NA NA ...
#>  $ Notes_tow     : chr  NA NA NA NA ...
```

Fall Midwater Trawl

``` r
str(FMWT)
#> Classes 'tbl_df', 'tbl' and 'data.frame':    231233 obs. of  22 variables:
#>  $ Source          : chr  "FMWT" "FMWT" "FMWT" "FMWT" ...
#>  $ Station         : chr  "070" "070" "070" "070" ...
#>  $ Latitude        : num  38.2 38.2 38.2 38.2 38.2 ...
#>  $ Longitude       : num  -122 -122 -122 -122 -122 ...
#>  $ Date            : POSIXct, format: "1992-01-10" "1992-02-07" ...
#>  $ Datetime        : POSIXct, format: "1992-01-10 08:18:00" "1992-02-07 08:23:00" ...
#>  $ Survey          : int  7 8 9 9 9 9 9 9 3 3 ...
#>  $ Depth           : num  6.1 3.66 6.1 6.1 6.1 ...
#>  $ SampleID        : chr  "FMWT 1" "FMWT 2" "FMWT 3" "FMWT 3" ...
#>  $ Method          : chr  "Midwater trawl" "Midwater trawl" "Midwater trawl" "Midwater trawl" ...
#>  $ Tide            : chr  "Flood" "Flood" "Ebb" "Ebb" ...
#>  $ Sal_surf        : num  0.1018 0.0961 0.1163 0.1163 0.1163 ...
#>  $ Temp_surf       : num  8.3 10 13.9 13.9 13.9 13.9 13.9 13.9 21.1 21.1 ...
#>  $ Secchi          : num  69 120 32 32 32 32 32 32 71 71 ...
#>  $ Secchi_estimated: logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
#>  $ Tow_volume      : num  5908 6153 4705 4705 4705 ...
#>  $ Tow_direction   : chr  "With current" "With current" "Against current" "Against current" ...
#>  $ Cable_length    : num  NA NA NA NA NA NA NA NA NA NA ...
#>  $ Taxa            : chr  NA NA "Oncorhynchus tshawytscha" "Oncorhynchus tshawytscha" ...
#>  $ Length          : num  NA NA 55 57 69 66 61 282 75 71 ...
#>  $ Count           : num  NA NA 2 1 1 ...
#>  $ Length_NA_flag  : chr  "No fish caught" "No fish caught" NA NA ...
```

Bay Study

``` r
str(Baystudy)
#> Classes 'tbl_df', 'tbl' and 'data.frame':    764592 obs. of  23 variables:
#>  $ Source        : chr  "Bay Study" "Bay Study" "Bay Study" "Bay Study" ...
#>  $ Station       : chr  "101" "101" "101" "101" ...
#>  $ Latitude      : num  37.5 37.5 37.5 37.5 37.5 ...
#>  $ Longitude     : num  -122 -122 -122 -122 -122 ...
#>  $ Date          : POSIXct, format: "1980-01-23" "1980-01-23" ...
#>  $ Datetime      : POSIXct, format: "1980-01-23 07:49:00" "1980-01-23 07:49:00" ...
#>  $ Survey        : int  1 1 1 1 1 1 1 1 1 1 ...
#>  $ Depth         : num  12.2 12.2 12.2 12.2 12.2 12.2 12.2 12.2 12.2 12.2 ...
#>  $ SampleID      : chr  "Bay Study 1" "Bay Study 1" "Bay Study 1" "Bay Study 1" ...
#>  $ Method        : chr  "Midwater trawl" "Midwater trawl" "Midwater trawl" "Midwater trawl" ...
#>  $ Tide          : chr  NA NA NA NA ...
#>  $ Sal_surf      : num  20.5 20.5 20.5 20.5 20.5 ...
#>  $ Temp_surf     : num  11.5 11.5 11.5 11.5 11.5 11.5 11.5 11.5 11.5 11.5 ...
#>  $ Secchi        : num  86 86 86 86 86 86 86 86 86 86 ...
#>  $ Tow_duration  : num  NA NA NA NA NA NA NA NA NA NA ...
#>  $ Tow_area      : num  NA NA NA NA NA NA NA NA NA NA ...
#>  $ Tow_volume    : num  5603 5603 5603 5603 5603 ...
#>  $ Tow_direction : chr  NA NA NA NA ...
#>  $ Taxa          : chr  "Atherinops affinis" "Atherinopsis californiensis" "Clupea pallasii" "Clupea pallasii" ...
#>  $ Length        : num  95 271 78 80 81 82 85 90 37 50 ...
#>  $ Count         : num  1 1 2 2 1 1 1 2 1 1 ...
#>  $ Length_NA_flag: chr  NA NA NA NA ...
#>  $ Notes_tow     : chr  NA NA NA NA ...
```

Delta Juvenile Fish Monitoring Program

``` r
str(DJFMP)
#> Classes 'tbl_df', 'tbl' and 'data.frame':    2500123 obs. of  18 variables:
#>  $ Source        : chr  "DJFMP" "DJFMP" "DJFMP" "DJFMP" ...
#>  $ Station       : chr  "AM001S" "AM001S" "AM001S" "AM001S" ...
#>  $ Latitude      : num  38.6 38.6 38.6 38.6 38.6 ...
#>  $ Longitude     : num  -122 -122 -122 -122 -122 ...
#>  $ Date          : POSIXct, format: "1976-05-28" "1976-05-28" ...
#>  $ Datetime      : POSIXct, format: "1976-05-28 10:20:00" "1976-05-28 10:20:00" ...
#>  $ Depth         : num  NA NA NA NA NA NA NA NA NA NA ...
#>  $ SampleID      : chr  "DJFMP 1976-05-28 10:20:00 AM001S NA Beach seine" "DJFMP 1976-05-28 10:20:00 AM001S NA Beach seine" "DJFMP 1976-05-28 10:20:00 AM001S NA Beach seine" "DJFMP 1976-05-28 10:20:00 AM001S NA Beach seine" ...
#>  $ Method        : chr  "Beach seine" "Beach seine" "Beach seine" "Beach seine" ...
#>  $ Sal_surf      : num  NA NA NA NA NA NA NA NA NA NA ...
#>  $ Temp_surf     : num  20.6 20.6 20.6 20.6 20.6 ...
#>  $ Secchi        : num  NA NA NA NA NA NA NA NA NA NA ...
#>  $ Tow_volume    : num  NA NA NA NA NA NA NA NA NA NA ...
#>  $ Tow_direction : chr  NA NA NA NA ...
#>  $ Taxa          : chr  "Oncorhynchus tshawytscha" "Micropterus salmoides" "Micropterus salmoides" "Micropterus salmoides" ...
#>  $ Length        : num  56 22 25 30 18 19 20 21 22 23 ...
#>  $ Count         : num  1 1 1 1 2 3 9 6 7 8 ...
#>  $ Length_NA_flag: chr  NA NA NA NA ...
```

Enhanced Delta Smelt Monitoring

``` r
str(EDSM)
#> Classes 'tbl_df', 'tbl' and 'data.frame':    146896 obs. of  19 variables:
#>  $ Source        : chr  "EDSM" "EDSM" "EDSM" "EDSM" ...
#>  $ Station       : chr  "17-49-CQS01" "17-49-CQS01" "17-49-CQS01" "17-49-CQS01" ...
#>  $ Latitude      : num  38.1 38.1 38.1 38.1 38.1 ...
#>  $ Longitude     : num  -122 -122 -122 -122 -122 ...
#>  $ Date          : POSIXct, format: "2017-07-03" "2017-07-03" ...
#>  $ Datetime      : POSIXct, format: "2017-07-03 08:56:00" "2017-07-03 08:56:00" ...
#>  $ Depth         : num  NA NA NA NA NA NA NA NA NA NA ...
#>  $ SampleID      : chr  "EDSM 2017-07-03 08:56:00 17-49-CQS01 1 Kodiak trawl 38.05845 -122.23008" "EDSM 2017-07-03 08:56:00 17-49-CQS01 1 Kodiak trawl 38.05845 -122.23008" "EDSM 2017-07-03 08:56:00 17-49-CQS01 1 Kodiak trawl 38.05845 -122.23008" "EDSM 2017-07-03 08:56:00 17-49-CQS01 1 Kodiak trawl 38.05845 -122.23008" ...
#>  $ Method        : chr  "Kodiak trawl" "Kodiak trawl" "Kodiak trawl" "Kodiak trawl" ...
#>  $ Tide          : chr  "Flood" "Flood" "Flood" "Flood" ...
#>  $ Sal_surf      : num  NA NA NA NA NA NA NA NA NA NA ...
#>  $ Temp_surf     : num  19.1 19.1 19.1 19.1 19.1 ...
#>  $ Secchi        : num  63 63 63 63 63 ...
#>  $ Tow_volume    : num  3149 3149 3149 3149 3149 ...
#>  $ Tow_direction : chr  "Downstream" "Downstream" "Downstream" "Downstream" ...
#>  $ Taxa          : chr  "Crangon" "Engraulis mordax" "Engraulis mordax" "Engraulis mordax" ...
#>  $ Length        : num  NA 32 33 35 36 37 38 40 54 27 ...
#>  $ Count         : num  1 2.83 2.83 1.42 2.83 ...
#>  $ Length_NA_flag: chr  "Unknown length" NA NA NA ...
```

Spring Kodiak Trawl

``` r
str(SKT)
#> Classes 'tbl_df', 'tbl' and 'data.frame':    39355 obs. of  20 variables:
#>  $ Source        : chr  "SKT" "SKT" "SKT" "SKT" ...
#>  $ Station       : chr  "809" "809" "809" "809" ...
#>  $ Latitude      : num  38.3 38.3 38.3 38.3 38.3 ...
#>  $ Longitude     : num  -122 -122 -122 -122 -122 ...
#>  $ Date          : POSIXct, format: "2002-01-07" "2002-01-07" ...
#>  $ Datetime      : POSIXct, format: "2002-01-07 08:38:00" "2002-01-07 08:38:00" ...
#>  $ Survey        : int  1 1 1 1 1 1 1 1 1 1 ...
#>  $ Depth         : num  17 17 17 17 17 17 17 17 17 17 ...
#>  $ SampleID      : chr  "SKT 1" "SKT 1" "SKT 1" "SKT 1" ...
#>  $ Method        : chr  "Kodiak trawl" "Kodiak trawl" "Kodiak trawl" "Kodiak trawl" ...
#>  $ Tide          : chr  "Flood" "Flood" "Flood" "Flood" ...
#>  $ Sal_surf      : num  0.114 0.114 0.114 0.114 0.114 ...
#>  $ Temp_surf     : num  11 11 11 11 11 11 11 11 11 11 ...
#>  $ Secchi        : num  25 25 25 25 25 25 25 25 25 25 ...
#>  $ Tow_volume    : num  5747 5747 5747 5747 5747 ...
#>  $ Tow_direction : chr  "Against current" "Against current" "Against current" "Against current" ...
#>  $ Taxa          : chr  "Oncorhynchus tshawytscha" "Dorosoma petenense" "Dorosoma petenense" "Dorosoma petenense" ...
#>  $ Length        : num  125 56 59 62 63 64 65 67 68 69 ...
#>  $ Count         : num  1 1.32 1.32 1.32 1.32 1.32 1.32 1.32 5.28 2.64 ...
#>  $ Length_NA_flag: chr  NA NA NA NA ...
```

## To access the integrated dataset for a community-level analysis

``` r
Data <- fish(sources=c("Suisun", "FMWT", "Baystudy", "DJFMP", "EDSM", "SKT"),
             species=NULL,
             convert_lengths=TRUE,
             remove_unconverted_lengths=FALSE,
             size_cutoff=40,
             zero_fill = TRUE,
             remove_unknown_lengths = TRUE,
             univariate = FALSE,
             quiet = FALSE)
#> NOTE: Length data are not entirely consistent across studies. Lengths have only been converted to consistent units for: Alosa sapidissima, Hypomesus transpacificus, Leuresthes tenuis, Atherinopsis californiensis, Spirinchus thaleichthys, Engraulis mordax, Clupea pallasii, Sardinops sagax, Cymatogaster aggregata, Morone saxatilis, Dorosoma petenense, Atherinops affinis, Lepidogobius lepidus, Ilypnus gilberti, Parophrys vetulus, Leptocottus armatus, Porichthys notatus, Citharichthys stigmaeus, Acanthogobius flavimanus, Pogonichthys macrolepidotus
str(Data)
#> tibble [57,041,239 x 26] (S3: tbl_df/tbl/data.frame)
#>  $ SampleID        : chr [1:57041239] "Bay Study 1" "Bay Study 1" "Bay Study 1" "Bay Study 1" ...
#>  $ Taxa            : chr [1:57041239] "Acanthogobius flavimanus" "Acipenser medirostris" "Acipenser transmontanus" "Allosmerus elongatus" ...
#>  $ Length          : num [1:57041239] NA NA NA NA NA NA NA NA NA NA ...
#>  $ Count           : num [1:57041239] 0 0 0 0 0 0 0 0 0 0 ...
#>  $ Notes_catch     : chr [1:57041239] NA NA NA NA ...
#>  $ Length_NA_flag  : chr [1:57041239] NA NA NA NA ...
#>  $ Source          : chr [1:57041239] "Bay Study" "Bay Study" "Bay Study" "Bay Study" ...
#>  $ Station         : chr [1:57041239] "101" "101" "101" "101" ...
#>  $ Latitude        : num [1:57041239] 37.5 37.5 37.5 37.5 37.5 ...
#>  $ Longitude       : num [1:57041239] -122 -122 -122 -122 -122 ...
#>  $ Date            : POSIXct[1:57041239], format: "1980-01-23" "1980-01-23" ...
#>  $ Datetime        : POSIXct[1:57041239], format: "1980-01-23 07:49:00" "1980-01-23 07:49:00" ...
#>  $ Depth           : num [1:57041239] 12.2 12.2 12.2 12.2 12.2 12.2 12.2 12.2 12.2 12.2 ...
#>  $ Method          : chr [1:57041239] "Midwater trawl" "Midwater trawl" "Midwater trawl" "Midwater trawl" ...
#>  $ Tide            : chr [1:57041239] NA NA NA NA ...
#>  $ Sal_surf        : num [1:57041239] 20.5 20.5 20.5 20.5 20.5 ...
#>  $ Temp_surf       : num [1:57041239] 11.5 11.5 11.5 11.5 11.5 11.5 11.5 11.5 11.5 11.5 ...
#>  $ Secchi          : num [1:57041239] 86 86 86 86 86 86 86 86 86 86 ...
#>  $ Tow_duration    : num [1:57041239] NA NA NA NA NA NA NA NA NA NA ...
#>  $ Tow_area        : num [1:57041239] NA NA NA NA NA NA NA NA NA NA ...
#>  $ Notes_tow       : chr [1:57041239] NA NA NA NA ...
#>  $ Survey          : int [1:57041239] 1 1 1 1 1 1 1 1 1 1 ...
#>  $ Secchi_estimated: logi [1:57041239] NA NA NA NA NA NA ...
#>  $ Tow_volume      : num [1:57041239] 5603 5603 5603 5603 5603 ...
#>  $ Tow_direction   : chr [1:57041239] NA NA NA NA ...
#>  $ Cable_length    : num [1:57041239] NA NA NA NA NA NA NA NA NA NA ...
```

# Code of Conduct

Please note that the `LTMRdata` project is released with a [Contributor
Code of Conduct](CODE_OF_CONDUCT.md). By contributing to this project,
you agree to abide by its terms.
